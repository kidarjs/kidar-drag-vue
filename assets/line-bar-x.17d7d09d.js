import{d as t}from"./network.20aa3f79.js";import{setZoom as e,approximateNum as a,baseSerie as r,omitNum as o}from"./common.d2e9833c.js";import"./index.c2103e5d.js";import"./echarts.cd8c9dcc.js";var n=Object.defineProperty,s=Object.defineProperties,l=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,m=(t,e,a)=>e in t?n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,y=(t,e)=>{for(var a in e||(e={}))c.call(e,a)&&m(t,a,e[a]);if(i)for(var a of i(e))p.call(e,a)&&m(t,a,e[a]);return t},f=(t,e)=>s(t,l(e));const b={type:"value",axisLabel:{formatter:o}};var h=t({name:"line-bar-x",resetOption(t,o,n){const s=[],l=[],{rotate:i,omit:c,splitNumber:p}=n;let m=1;const h=new Set;let u=!1;if(t.forEach((t=>{const{name:e,prop:a,color:n,stack:l,itemStyle:i,y1:c}=t;!u&&(u=!!c);let p=c?1:0,b=f(y({},r),{name:e,stack:l,id:e||a,yAxisIndex:p,itemStyle:f(y({},i),{color:n})});switch(t.type){case"bar":!function(t){t.type="bar",t.barMaxWidth=20}(b);break;case"pictorialBar":!function(t,e){t.type="pictorialBar",t.symbol=e.symbol||"path://M0,10 L10,10 C5.5,10 5.5,5 5,0 C4.5,5 4.5,10 0,10 z"}(b,t);break;default:!function(t){t.type="line"}(b)}t.type&&["bar","pictorialBar"].includes(t.type)&&!h.has(l)&&(m++,h.add(l)),b.data=o.map((r=>{let o=r[a||e];return{item:y({},r),col:y({},t),name:r.name,value:o}})),s.push(b)})),u){let e=p||5;const{y0Interval:r,y1Interval:n}=function(t,e,r){let o=0,n=0;const s=new Map,l=new Map;return t.forEach((t=>{const{y1:a,stack:r,name:o,prop:n}=t;e.forEach((t=>{let e=r?t.name+"-"+r:Symbol(),i=t[n||o];a?r&&l.has(e)?l.set(e,(l.get(e)||0)+i):l.set(e,i):r&&s.has(e)?s.set(e,(s.get(e)||0)+i):s.set(e,i)}))})),l.forEach((t=>{n=Math.max(t,n)})),s.forEach((t=>{o=Math.max(t,o)})),{y0Interval:a(o/r),y1Interval:a(n/r)}}(t,o,e);l.push(f(y({},b),{interval:r,max:r*e})),l.push(f(y({},b),{interval:n,max:n*e}))}else l.push(y({},b));1===m&&(m=2);const d=i&&0!==i?30*m*Math.abs(90/i):30*m,x=e(30*m,n);return x.show&&(x.bottom=60),{title:{show:!0,text:n.title,left:"center",top:"20",textStyle:{color:"#fff"}},grid:{left:60,right:60,bottom:100},legend:{show:!0,type:"scroll",bottom:20},tooltip:{show:!0,trigger:"axis"},dataZoom:x,yAxis:l,xAxis:[{type:"category",data:o.map((t=>t.name)),axisLabel:{rotate:i,interval:c?"auto":0,width:d,overflow:"truncate"}}],series:s}}});export{h as default};
